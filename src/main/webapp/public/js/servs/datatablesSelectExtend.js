// Generated by CoffeeScript 1.10.0
var indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

define([], function() {
  return {
    updateDataTableSelectAllCtrl: function(table) {
      var $chkbox_all, $chkbox_checked, $table, chkbox_select_all;
      $table = table.table().node();
      $chkbox_all = $('tbody input[type="checkbox"]', $table);
      $chkbox_checked = $('tbody input[type="checkbox"]:checked', $table);
      chkbox_select_all = $('thead input[name="select_all"]', $table).get(0);
      if ($chkbox_checked.length === 0) {
        chkbox_select_all.checked = false;
        if (indexOf.call(chkbox_select_all, 'indeterminate') >= 0) {
          return chkbox_select_all.indeterminate = false;
        }
      } else if ($chkbox_checked.length === $chkbox_all.length) {
        chkbox_select_all.checked = true;
        if (indexOf.call(chkbox_select_all, 'indeterminate') >= 0) {
          return chkbox_select_all.indeterminate = false;
        }
      } else {
        chkbox_select_all.checked = true;
        if (indexOf.call(chkbox_select_all, 'indeterminate') >= 0) {
          return chkbox_select_all.indeterminate = true;
        }
      }
    }
  };
});
