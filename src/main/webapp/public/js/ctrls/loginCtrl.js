// Generated by CoffeeScript 1.10.0
define(['can/control', 'can/view/mustache', 'Auth', 'lscache', 'validate'], function(Control, can, Auth, lscache) {
  var userInfo;
  if (Auth.logined()) {
    window.location.hash = '!home';
  }
  userInfo = new can.Map({
    loginID: 'admin',
    password: 'admin'
  });
  return Control.extend({
    init: function() {
      this.element.html(can.view('../public/view/login.html', userInfo));
      $('body').addClass('DHL-backgroud');
      $('.login_button').unbind('click').bind('click', function() {
        if (!$('form').valid()) {
          return;
        }
        Auth.login(userInfo.attr());
        return userInfo.attr('password', '');
      });
      return $('.reset_botton').unbind('click').bind('click', function() {
        userInfo.attr('loginID', '');
        return userInfo.attr('password', '');
      });
    }
  });
});
